<!doctype html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>FrACT₁₀ with testing suite</title>
	<script src="Resources/js/testingSuite.js"></script>
</head>

<body>

<button onclick="testingSuite();">Run software testing suite</button>
<br><br>

<script>
allSettings = async function() {
	for (let i = 0; i < 7; i++) {
		tellIframe3Ms('settingsPane', i, '');
		await pauseMilliseconds(1000);
	}
	tellIframe3Ms('settingsPane', -1, '');
}
</script>

<iframe id="fractFrame" src="index.html" scrolling="no" allow="clipboard-write" style="width: 800px; height: 628px; border: 1px solid #3050C0; padding:0px; margin:0px;"></iframe>

<div id="belowFractFrame"></div>

<button onclick="doDemoRun();">Click for demo run</button>
<button onclick="testingSuite();">Run software testing suite</button>

<hr>

<button onclick="tellIframe3Ms('reload', 'm2', 'm3');">Reload</button>

<button onclick="demoRunAndRestore();">demoRunAndRestore</button> &nbsp;
<button onclick="runRespondingCorrectly();">runRespondingCorrectly</button> &nbsp;
<br>
<button onclick="tellIframe('xx');">Send 'xx'</button>
<button onclick="tellIframe3Ms('m1', 'm2', 'm3');">Send well formed, but unknown message</button>
<button onclick="tellIframe3Ms('redraw', '', '');">Redraw</button>
<button onclick="allSettings()">All Settings</button>
<button onclick="tellIframe3Ms('settingsPane', -1, '');">Settings -1</button>

<br>

<button onclick="tellIframe3Ms({m1: 'getVersion', m2: '', m3: ''});">getVersion</button>
<button onclick="tellIframe3Ms({m1: 'getSetting', m2: 'UNKNOWN', m3: ''});">getSetting UNKNOWN</button>
<button onclick="tellIframe3Ms({m1: 'getSetting', m2: 'nTrials08', m3: ''});">getSetting nTrials08</button>
<button onclick="tellIframe3Ms({m1: 'getSetting', m2: 'allKeys', m3: ''});">getSetting allKeys</button>
<br><br>

<button onclick="tellIframe({m1: 'setSetting', m2: 'preset', m3: 'NOTAPRESET'});">setSetting Preset NOTAPRESET</button>
<button onclick="tellIframe({m1: 'setSetting', m2: 'preset', m3: 'Standard Defaults'});">setSetting Preset Defaults</button>
<button onclick="tellIframe({m1: 'setSetting', m2: 'preset', m3: 'Testing'});">setSetting Preset Testing</button>
<button onclick="tellIframe({m1: 'setSetting', m2: 'preset', m3: 'Demo'});">setSetting Preset Demo</button>
<br>

<button onclick="tellIframe({m1: 'setSetting', m2: 'nTrials08', m3: '999'});">setSetting nTrials08: 999</button>
<button onclick="tellIframe({m1: 'setSetting', m2: 'nTrials08', m3: '3'});">setSetting nTrials08: 3</button>
<button onclick="tellIframe({m1: 'setSetting', m2: 'distanceInCM', m3: '57'});">setSetting distanceInCM: 57</button>
<button onclick="tellIframe({m1: 'setSetting', m2: 'calBarLengthInMM', m3: '145'});">setSetting calBarLengthInMM: 145</button>
<button onclick="tellIframe({m1: 'setSetting', m2: 'autoRunIndex', m3: '0'});">setSetting autoRunIndex: 0</button>
<br><br>

<button onclick="tellIframe({m1: 'getValue', m2: 'isInRun', m3: ''});">getValue isInRun</button>
<button onclick="tellIframe({m1: 'getValue', m2: 'currentTrial', m3: ''});">getValue currentTrial</button>
<button onclick="tellIframe({m1: 'getValue', m2: 'currentAlternative', m3: ''});">getValue currentAlternative</button>
<br>
<button onclick="tellIframe({m1: 'getTestDetails', m3: '', m3: ''});">getTestDetails</button>

<br><br>


<button onclick="tellIframe({m1: 'run', m2: 'UNKNOWN2', m3: 'UNKNOWN3'});">Run UNKNOWN</button>
<button onclick="tellIframe({m1: 'run', m2: 'acuity', m3: 'Letters'});">Run Acuity Letters</button>
<button onclick="tellIframe({m1: 'run', m2: 'acuity', m3: 'LandoltC'});">Run Acuity LandoltC</button>
<button onclick="tellIframe({m1: 'run', m2: 'contrast', m3: 'LandoltC'});">Run Contrast LandoltC</button>
<button onclick="tellIframe({m1: 'run', m2: 'testNumber', m3: 3});">Run TestNumber 3</button>
<br>
<button onclick="tellIframe({m1: 'respondWithChar', m2: '2', m3: 3});">respond "2"</button>
<button onclick="tellIframe({m1: 'respondWithChar', m2: '4', m3: 3});">respond "4"</button>
<button onclick="tellIframe({m1: 'respondWithChar', m2: '6', m3: 3});">respond "6"</button>
<button onclick="tellIframe({m1: 'respondWithChar', m2: '8', m3: 3});">respond "8"</button>
<button onclick="tellIframe({m1: 'sendChar', m2: 'L', m3: 3});">send "L"</button>
<button onclick="tellIframe({m1: 'sendChar', m2: 'c', m3: 3});">send "c"</button>
<button onclick="tellIframe({m1: 'sendChar', m2: '1', m3: 3});">send "1"</button>
<button onclick="tellIframe({m1: 'sendChar', m2: 'h', m3: 3});">send "h"</button>
<button onclick="tellIframe({m1: 'sendChar', m2: 'y', m3: 3});">send "y"</button>
<button onclick="tellIframe({m1: 'sendChar', m2: 'n', m3: 3});">send "n"</button>
<button onclick="tellIframe({m1: 'sendChar', m2: 'p', m3: 3});">send "p"</button>
<button onclick="tellIframe({m1: 'sendChar', m2: String.fromCharCode(10), m3: 3});">send "LF"</button>
<button onclick="tellIframe({m1: 'sendChar', m2: String.fromCharCode(13), m3: 3});">send "CR"</button>
<button onclick="tellIframe({m1: 'sendChar', m2: String.fromCharCode(27), m3: 3});">send "ESC"</button>
<br><br>
<button onclick="tellIframe({m1: 'setHomeState', m2: '', m3: 3});">setHomeState</button>
<br><br>

<button onclick="tellIframe({m1: 'unittest', m2: 'throwError', m3: ''});">unittest runtime error</button>
<button onclick="tellIframe({m1: 'unittest', m2: 'rewardImages', m3: ''});">unittest rewardImages</button>
<br><br>
<button onclick="testBalm();">testBalm</button>
<br>
</body>
</html>
